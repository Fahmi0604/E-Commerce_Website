{"ast":null,"code":"var _jsxFileName = \"/Users/fahmifirmansyah/Documents/Semester 6/Pemrograman_Berbasis_Framework/UAS/televisi-app/src/component/login/Login.jsx\";\nimport React, { Component } from 'react';\nimport firebase from 'firebase';\nimport firebaseConfig from '../../config';\nimport Welcome from './Welcome';\nimport Modal from 'react-modal';\nimport Keranjang from '../keranjang/Keranjang';\nconst customStyles = {\n  content: {\n    top: '50%',\n    left: '50%',\n    right: 'auto',\n    bottom: 'auto',\n    marginRight: '-50%',\n    transform: 'translate(-50%, -50%)',\n    padding: '50px 100px 50px 100px'\n  }\n};\nModal.setAppElement('#root');\n\nclass Login extends Component {\n  constructor(props) {\n    super(props);\n\n    this.onLoginGoogle = () => {\n      var provider = new firebase.auth.GoogleAuthProvider();\n      firebase.auth().signInWithPopup(provider).then(result => {\n        /** @type {firebase.auth.OAuthCredential} */\n        // var credential = result.credential;\n        // This gives you a Google Access Token. You can use it to access the Google API.\n        // var token = credential.accessToken;\n        // The signed-in user info.\n        // var user = result.user;\n      }).catch(error => {\n        console.log(error);\n      });\n    };\n\n    this.forgotPassword = Email => {\n      firebase.auth().sendPasswordResetEmail(Email).then(function () {\n        alert('Please check your email...');\n      }).catch(function (e) {\n        console.log(e);\n      });\n    };\n\n    if (!firebase.apps.length) {\n      firebase.initializeApp(firebaseConfig);\n    } else {\n      firebase.app(); // if already initialized, use that one\n    }\n\n    this.login = this.login.bind(this);\n    this.handleChange = this.handleChange.bind(this); // this.forgotPassword = this.forgotPassword.bind(this);\n    // this.signup = this.signup.bind(this);\n\n    this.state = {\n      showModal: false,\n      emailForgot: \"\",\n      email: \"\",\n      password: \"\",\n      user: {}\n    };\n    this.handleOpenModal = this.handleOpenModal.bind(this);\n    this.handleCloseModal = this.handleCloseModal.bind(this);\n  }\n\n  authListener() {\n    firebase.auth().onAuthStateChanged(user => {\n      if (user) {\n        this.setState({\n          user\n        });\n        console.log(\"User adalah : \" + user.email);\n      } else {\n        this.setState({\n          user: null\n        });\n      }\n    });\n  }\n\n  componentDidMount() {\n    this.authListener();\n  }\n\n  login(e) {\n    e.preventDefault();\n    firebase.auth().signInWithEmailAndPassword(this.state.email, this.state.password).then(u => {\n      console.log(u);\n    }).catch(err => {\n      console.log(err);\n      alert(err);\n      this.setState({\n        email: '',\n        password: ''\n      });\n    });\n  }\n\n  signup(e) {\n    e.preventDefault();\n    firebase.auth().createUserWithEmailAndPassword(this.state.email, this.state.password).then(u => {\n      console.log(u);\n    }).catch(err => {\n      console.log(err);\n    });\n  }\n\n  handleChange(e) {\n    this.setState({\n      [e.target.name]: e.target.value\n    });\n    console.log(this.state);\n  }\n\n  logout() {\n    firebase.auth().signOut();\n    window.location.reload();\n  }\n\n  handleOpenModal() {\n    this.setState({\n      showModal: true\n    });\n  }\n\n  handleCloseModal() {\n    this.setState({\n      showModal: false\n    });\n  }\n\n  render() {\n    return this.state.user ?\n    /*#__PURE__*/\n    // <Welcome logout={this.logout} userEmail={this.state.user.email} />\n    React.createElement(Keranjang, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 141,\n        columnNumber: 7\n      }\n    }) : /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 143,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"login\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 144,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"center\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 145,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"p\", {\n      id: \"login-title\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 145,\n        columnNumber: 19\n      }\n    }, \"Masuk ke Samsung\", /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 145,\n        columnNumber: 55\n      }\n    }), \" Account Anda\")), /*#__PURE__*/React.createElement(\"form\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 146,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      type: \"email\",\n      id: \"email\",\n      name: \"email\",\n      placeholder: \"Email\",\n      onChange: this.handleChange,\n      value: this.state.email,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 147,\n        columnNumber: 13\n      }\n    }), \" \", /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 154,\n        columnNumber: 16\n      }\n    }), /*#__PURE__*/React.createElement(\"input\", {\n      name: \"password\",\n      type: \"password\",\n      onChange: this.handleChange,\n      id: \"password\",\n      placeholder: \"Password\",\n      value: this.state.password,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 155,\n        columnNumber: 13\n      }\n    }), \" \", /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 162,\n        columnNumber: 16\n      }\n    }), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 162,\n        columnNumber: 22\n      }\n    }), /*#__PURE__*/React.createElement(\"center\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 163,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"button\", {\n      className: \"btn-login\",\n      onClick: this.login,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 163,\n        columnNumber: 21\n      }\n    }, \"Login\")), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 163,\n        columnNumber: 95\n      }\n    }), /*#__PURE__*/React.createElement(\"center\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 164,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"a\", {\n      href: \"/signup\",\n      className: \"btn-signup\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 164,\n        columnNumber: 21\n      }\n    }, \"Signup\")), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 165,\n        columnNumber: 13\n      }\n    }), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 165,\n        columnNumber: 19\n      }\n    }), /*#__PURE__*/React.createElement(\"center\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 166,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"a\", {\n      onClick: this.handleOpenModal,\n      style: {\n        cursor: \"pointer\"\n      },\n      type: \"button\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 166,\n        columnNumber: 21\n      }\n    }, \"Lupa kata sandi ?\")), /*#__PURE__*/React.createElement(Modal // className=\"modal\"\n    // overlayClassName=\"overlay\"\n    , {\n      style: customStyles,\n      isOpen: this.state.showModal,\n      contentLabel: \"onRequestClose Example\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 167,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"h2\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 174,\n        columnNumber: 15\n      }\n    }, \"Reset Password\"), /*#__PURE__*/React.createElement(\"p\", {\n      style: {\n        textAlign: \"center\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 175,\n        columnNumber: 15\n      }\n    }, \"Enter your email address\"), /*#__PURE__*/React.createElement(\"input\", {\n      id: \"input-email-modal\",\n      type: \"text\",\n      onChange: this.handleChange,\n      name: \"emailForgot\",\n      placeholder: \"Enter email address\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 176,\n        columnNumber: 15\n      }\n    }), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 176,\n        columnNumber: 141\n      }\n    }), /*#__PURE__*/React.createElement(\"button\", {\n      id: \"btn-reset-modal\",\n      onClick: () => this.forgotPassword(this.state.emailForgot),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 177,\n        columnNumber: 15\n      }\n    }, \"Reset\"), /*#__PURE__*/React.createElement(\"button\", {\n      id: \"btn-close-modal\",\n      onClick: this.handleCloseModal,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 178,\n        columnNumber: 15\n      }\n    }, \"X\")))));\n  }\n\n}\n\nexport default Login;","map":{"version":3,"sources":["/Users/fahmifirmansyah/Documents/Semester 6/Pemrograman_Berbasis_Framework/UAS/televisi-app/src/component/login/Login.jsx"],"names":["React","Component","firebase","firebaseConfig","Welcome","Modal","Keranjang","customStyles","content","top","left","right","bottom","marginRight","transform","padding","setAppElement","Login","constructor","props","onLoginGoogle","provider","auth","GoogleAuthProvider","signInWithPopup","then","result","catch","error","console","log","forgotPassword","Email","sendPasswordResetEmail","alert","e","apps","length","initializeApp","app","login","bind","handleChange","state","showModal","emailForgot","email","password","user","handleOpenModal","handleCloseModal","authListener","onAuthStateChanged","setState","componentDidMount","preventDefault","signInWithEmailAndPassword","u","err","signup","createUserWithEmailAndPassword","target","name","value","logout","signOut","window","location","reload","render","cursor","textAlign"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport firebase from 'firebase';\nimport firebaseConfig from '../../config';\nimport Welcome from './Welcome';\nimport Modal from 'react-modal';\nimport Keranjang from '../keranjang/Keranjang';\n\nconst customStyles = {\n  content: {\n    top: '50%',\n    left: '50%',\n    right: 'auto',\n    bottom: 'auto',\n    marginRight: '-50%',\n    transform: 'translate(-50%, -50%)',\n    padding: '50px 100px 50px 100px'\n  }\n};\n\nModal.setAppElement('#root');\n\nclass Login extends Component {\n  constructor(props) {\n    super(props);\n\n    if (!firebase.apps.length) {\n      firebase.initializeApp(firebaseConfig);\n    } else {\n      firebase.app(); // if already initialized, use that one\n    }\n\n    this.login = this.login.bind(this);\n    this.handleChange = this.handleChange.bind(this);\n    // this.forgotPassword = this.forgotPassword.bind(this);\n    // this.signup = this.signup.bind(this);\n    this.state = {\n      showModal: false,\n      emailForgot: \"\",\n      email: \"\",\n      password: \"\",\n      user: {}\n    }\n\n    this.handleOpenModal = this.handleOpenModal.bind(this);\n    this.handleCloseModal = this.handleCloseModal.bind(this);\n  }\n\n  authListener() {\n    firebase.auth().onAuthStateChanged((user) => {\n      if (user) {\n        this.setState({\n          user\n        })\n        console.log(\"User adalah : \" + user.email)\n      }\n      else {\n        this.setState({\n          user: null\n        })\n      }\n    })\n  }\n\n  componentDidMount() {\n    this.authListener();\n  }\n\n  login(e) {\n    e.preventDefault();\n    firebase.auth().signInWithEmailAndPassword(this.state.email, this.state.password).then((u) => {\n      console.log(u)\n    }).catch((err) => {\n      console.log(err);\n      alert(err);\n      this.setState({\n        email: '',\n        password: ''\n      })\n    })\n  }\n\n  signup(e) {\n    e.preventDefault();\n    firebase.auth().createUserWithEmailAndPassword(this.state.email, this.state.password).then((u) => {\n      console.log(u)\n    }).catch((err) => {\n      console.log(err);\n    })\n  }\n\n  onLoginGoogle = () => {\n    var provider = new firebase.auth.GoogleAuthProvider();\n    firebase.auth()\n      .signInWithPopup(provider)\n      .then((result) => {\n        /** @type {firebase.auth.OAuthCredential} */\n        // var credential = result.credential;\n\n        // This gives you a Google Access Token. You can use it to access the Google API.\n        // var token = credential.accessToken;\n        // The signed-in user info.\n        // var user = result.user;\n\n      }).catch((error) => {\n        console.log(error)\n      });\n  }\n\n  handleChange(e) {\n    this.setState({\n      [e.target.name]: e.target.value\n    })\n    console.log(this.state);\n  }\n\n  logout() {\n    firebase.auth().signOut();\n    window.location.reload();\n  }\n\n  handleOpenModal() {\n    this.setState({ showModal: true });\n  }\n\n  handleCloseModal() {\n    this.setState({ showModal: false });\n  }\n\n  forgotPassword = (Email) => {\n    firebase.auth().sendPasswordResetEmail(Email)\n      .then(function () {\n        alert('Please check your email...')\n      }).catch(function (e) {\n        console.log(e)\n      })\n  }\n\n  render() {\n    return this.state.user ? (\n      // <Welcome logout={this.logout} userEmail={this.state.user.email} />\n      <Keranjang />\n    ) : (\n      <div className=\"form\">\n        <div className=\"login\">\n          <center><p id=\"login-title\">Masuk ke Samsung<br /> Account Anda</p></center>\n          <form>\n            <input\n              type=\"email\"\n              id=\"email\"\n              name=\"email\"\n              placeholder=\"Email\"\n              onChange={this.handleChange}\n              value={this.state.email}\n            /> <br />\n            <input\n              name=\"password\"\n              type=\"password\"\n              onChange={this.handleChange}\n              id=\"password\"\n              placeholder=\"Password\"\n              value={this.state.password}\n            /> <br /><br />\n            <center><button className=\"btn-login\" onClick={this.login}>Login</button></center><br />\n            <center><a href=\"/signup\" className=\"btn-signup\" >Signup</a></center>\n            <br /><br />\n            <center><a onClick={this.handleOpenModal} style={{ cursor: \"pointer\" }} type=\"button\" >Lupa kata sandi ?</a></center>\n            <Modal\n              // className=\"modal\"\n              // overlayClassName=\"overlay\"\n              style={customStyles}\n              isOpen={this.state.showModal}\n              contentLabel=\"onRequestClose Example\"\n            >\n              <h2>Reset Password</h2>\n              <p style={{ textAlign: \"center\" }}>Enter your email address</p>\n              <input id=\"input-email-modal\" type=\"text\" onChange={this.handleChange} name=\"emailForgot\" placeholder=\"Enter email address\" /><br />\n              <button id=\"btn-reset-modal\" onClick={() => this.forgotPassword(this.state.emailForgot)}>Reset</button>\n              <button id=\"btn-close-modal\" onClick={this.handleCloseModal}>X</button>\n            </Modal>\n            {/* <center><p style={{marginTop: -30}}>atau</p></center> */}\n\n            {/* <center><button className=\"btn-login-g\" onClick={this.onLoginGoogle} > \n            <img src=\"https://www.freepnglogos.com/uploads/google-logo-png/google-logo-png-google-icon-logo-png-transparent-svg-vector-bie-supply-14.png\"\n              alt=\"logo\" style={{width: 25, backgroundColor: \"white\", padding: 4}}/>\n            Masuk dengan Google \n            </button></center> */}\n          </form>\n        </div>\n      </div>\n    )\n  }\n}\n\n\nexport default Login;"]},"metadata":{},"sourceType":"module"}